<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CORS Test</title>
  </head>
  <body>
    <pre id="output">Loading...</pre>
    <script>
      const output = document.getElementById("output");

      async function getData() {
        try {
          const response = await fetch("http://127.0.0.1:3001", {
            method: "GET",
            mode: "cors",
            headers: { Accept: "application/json" },
          });

          if (!response.ok) throw new Error(`HTTP Error: ${response.status}`);

          const { message } = await response.json();
          displayMessage(message);
        } catch (error) {
          displayMessage(`Error: ${error.message}`);
        }
      }

      function displayMessage(message) {
        console.log(message);
        output.textContent = message;
      }

      getData();
    </script>
  </body>
</html>
